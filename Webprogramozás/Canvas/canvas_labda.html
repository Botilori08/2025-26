<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labda</title>
</head>
<body>
    <canvas id="canvas" width="1000" height="1000"></canvas>
	<script>

		class labda
		{
			constructor(x,y,sugar,vX,vY)
			{
				this.x = x;
				this.y = y;
				this.sugar = sugar;
				this.vX = vX;
				this.vY = vY;
			}

			rajzol(ctx)
			{
				ctx.beginPath();
				ctx.arc(this.x,this.y,this.sugar,0,2*Math.PI);
				ctx.fillStyle = "blue";
				ctx.fill();
				ctx.stroke();
			}

			lep(ctx)
			{
				this.x += this.vX;
				this.y += this.vY;
				let utkozesVolt = false;
				if(ctx.canvas.clientWidth - this.x <= this.sugar || this.x <= this.sugar)
				{
					this.vX*=-1;
					utkozesVolt = true;
				}
				if(ctx.canvas.clientHeight - this.y <= this.sugar || this.y <= this.sugar)
				{
					this.vY*=-1;
					utkozesVolt = true
				}

				if(utkozesVolt)
				{
					this.x += this.vX;
					this.y += this.vY;
				}


			}
		}


		let c = document.getElementById("canvas");

		let ctx = c.getContext("2d");

		const labdaDarab = 10;
		

		let l = new labda(100,100,50,10,8);


		const labdak = [];

		for(let i = 0;i < labdaDarab;i++)
		{
			let r = Math.floor(Math.random()*20)+10;
			let x = Math.floor(Math.random()*c.clientWidth-4*r)+2*r
			let y = Math.floor(Math.random()*c.clientHeight-4*r)+2*r
			let vX = Math.floor(Math.random()*14)+1
			let vY = Math.floor(Math.random()*14)+1
			labdak.push(new labda(x,y,r,vX,vY))
		}


		function pattog()
		{
			ctx.clearRect(0,0,ctx.canvas.clientWidth,ctx.canvas.clientHeight);
			labdak.forEach(l => {			
			l.rajzol(ctx);
			l.lep(ctx);})

			requestAnimationFrame(pattog);
		}

		requestAnimationFrame(pattog);

	</script>
</body>
</html>